import web,settingsfrom db import dburl = ('^/api/list','List',	   '^/api/category/add','category_add',	   '^/api/category/list','category_list',	)#render = web.template.render(settings.TEMPLATE_FOLDER)render = web.template.render(settings.TEMPLATE_FOLDER, base='layout')class List(object):	def GET(self):		return render.list()			def POST(self):		data = web.input()		db.insert("t_product",name=data.name,description=data.desc)		return web.seeother('/api/category/add')	class category_add(object):	def GET(self):		return render.category_add()	def POST(self):		data = web.input()		db.insert("t_category",name=data.name,parent_id=data.parent_id,description=data.description)		return web.seeother('/api/category/add')	class category_list(object):	def GET(self):		categories = db.select('t_category')		cache_categories = [category for category in categories]		def genTree(category):			category['childs'] = [child for child in cache_categories if child.parent_id == category.id]			for child in category['childs']:				genTree(child)			return category				result = [genTree(category) for category in cache_categories if category.parent_id == 0]		return render.category_list(result)		if __name__ == "__main__":	app = web.application(url,globals())	app.run()		